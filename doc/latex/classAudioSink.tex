\hypertarget{classAudioSink}{\section{Audio\+Sink Class Reference}
\label{classAudioSink}\index{Audio\+Sink@{Audio\+Sink}}
}


An output stream for an \hyperlink{classAudio}{Audio} file.  




{\ttfamily \#include $<$audio\+\_\+sink.\+hpp$>$}



Inheritance diagram for Audio\+Sink\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{classAudioSink__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Audio\+Sink\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAudioSink__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \hyperlink{classAudioSink_ae5b8370aa17c24c6fc8f8e0c5778168c}{Stream\+Configurator} = std\+::function$<$ portaudio\+::\+Stream $\ast$(portaudio\+::\+Callback\+Interface \&)$>$
\begin{DoxyCompactList}\small\item\em A function that configures and returns a stream, given this \hyperlink{classAudioSink}{Audio\+Sink}. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{using \hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} = std\+::pair$<$ Pa\+Stream\+Callback\+Result, unsigned long $>$}\label{classAudioSink_a73002cc57611ac384c4e9d419e706e50}

\begin{DoxyCompactList}\small\item\em Type of results emitted during the play callback step. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}{using \hyperlink{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}{Sample\+Position} = std\+::uint64\+\_\+t}\label{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}

\begin{DoxyCompactList}\small\item\em Type of positions measured in samples. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_a60c1743d66e02b77f04791e72fa4cd0b}{using \hyperlink{classAudioSink_a60c1743d66e02b77f04791e72fa4cd0b}{Transfer\+Iterator} = Audio\+Source\+::\+Decode\+Vector\+::iterator}\label{classAudioSink_a60c1743d66e02b77f04791e72fa4cd0b}

\begin{DoxyCompactList}\small\item\em Type of iterators used in the \hyperlink{classAudioSink_a455e211f4f16eaa21e7b75412cc8a8ae}{Transfer()} method. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAudioSink_ab4adf46e3e93d35e2b5fb1ab0e75793b}{Audio\+Sink} (const \hyperlink{classAudioSink_ae5b8370aa17c24c6fc8f8e0c5778168c}{Stream\+Configurator} c, \hyperlink{classAudioSource_a1c8138ec9ffb9fd1394d0ad0782d60fa}{Audio\+Source\+::\+Sample\+Byte\+Count} \hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\+\_\+per\+\_\+sample})
\begin{DoxyCompactList}\small\item\em Constructs an \hyperlink{classAudioSink}{Audio\+Sink}. \end{DoxyCompactList}\item 
void \hyperlink{classAudioSink_a18196e0dec3b4d58e17c454379ed0728}{Start} ()
\begin{DoxyCompactList}\small\item\em Starts the audio stream. \end{DoxyCompactList}\item 
void \hyperlink{classAudioSink_af1937ad09b555f0b88d285e8fd7cf433}{Stop} ()
\begin{DoxyCompactList}\small\item\em Stops the audio stream. \end{DoxyCompactList}\item 
bool \hyperlink{classAudioSink_adfa8006db0d1cbe161f15232cb32a324}{Is\+Stopped} ()
\begin{DoxyCompactList}\small\item\em Checks to see if audio playback has stopped. \end{DoxyCompactList}\item 
\hyperlink{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}{Sample\+Position} \hyperlink{classAudioSink_aed168a8ce8ba39105431ab54ab08a007}{Position} ()
\begin{DoxyCompactList}\small\item\em Gets the current played position in the song, in samples. \end{DoxyCompactList}\item 
void \hyperlink{classAudioSink_a5ca539e3440d168eec0892114a947529}{Set\+Position} (\hyperlink{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}{Sample\+Position} samples)
\begin{DoxyCompactList}\small\item\em Sets the current played position, given a position in samples. \end{DoxyCompactList}\item 
bool \hyperlink{classAudioSink_a9b3dbe861acd4bb7ac1903730a0a01f3}{Input\+Ready} ()
\begin{DoxyCompactList}\small\item\em Gets whether this \hyperlink{classAudioSink}{Audio\+Sink} is expecting input. \end{DoxyCompactList}\item 
void \hyperlink{classAudioSink_aaa92237f7ab548c1a898981f4dcd631c}{Set\+Input\+Ready} (bool ready)
\begin{DoxyCompactList}\small\item\em Set whether this \hyperlink{classAudioSink}{Audio\+Sink} can expect input. \end{DoxyCompactList}\item 
void \hyperlink{classAudioSink_a455e211f4f16eaa21e7b75412cc8a8ae}{Transfer} (\hyperlink{classAudioSink_a60c1743d66e02b77f04791e72fa4cd0b}{Transfer\+Iterator} \&start, const \hyperlink{classAudioSink_a60c1743d66e02b77f04791e72fa4cd0b}{Transfer\+Iterator} \&end)
\begin{DoxyCompactList}\small\item\em Transfers a range of sample bytes into the \hyperlink{classAudioSink}{Audio\+Sink}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classAudioSink_ad3534ea4210aa83b42706c0361fd3e8d}{pa\+Callback\+Fun} (const void $\ast$input\+Buffer, void $\ast$output\+Buffer, unsigned long num\+Frames, const Pa\+Stream\+Callback\+Time\+Info $\ast$time\+Info, Pa\+Stream\+Callback\+Flags status\+Flags) override
\begin{DoxyCompactList}\small\item\em The callback proper. \end{DoxyCompactList}\item 
\hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} \hyperlink{classAudioSink_a450ad1c0c64ddcc9b9a40d325983cbd9}{Play\+Callback\+Step} (char $\ast$out, unsigned long frames\+\_\+per\+\_\+buf, \hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} in)
\begin{DoxyCompactList}\small\item\em Performs one step in the callback. \end{DoxyCompactList}\item 
\hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} \hyperlink{classAudioSink_a2194fd0629b52c550c9eb326f8ae10cc}{Play\+Callback\+Success} (char $\ast$out, unsigned long avail, unsigned long frames\+\_\+per\+\_\+buf, \hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} in)
\begin{DoxyCompactList}\small\item\em Performs a successful play callback step. \end{DoxyCompactList}\item 
\hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} \hyperlink{classAudioSink_a6e1b9254b242231ba8168e5e27d602ff}{Play\+Callback\+Failure} (char $\ast$out, unsigned long avail, unsigned long frames\+\_\+per\+\_\+buf, \hyperlink{classAudioSink_a73002cc57611ac384c4e9d419e706e50}{Play\+Callback\+Step\+Result} in)
\begin{DoxyCompactList}\small\item\em Performs error cleanup for a failed play callback step. \end{DoxyCompactList}\item 
unsigned long \hyperlink{classAudioSink_a00ed918435d6f65b9533869453d5ae56}{Read\+Samples\+To\+Output} (char $\ast$\&output, unsigned long output\+\_\+capacity, unsigned long buffered\+\_\+count)
\begin{DoxyCompactList}\small\item\em Reads from the ringbuffer to output, updating the used samples count. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{\hyperlink{classAudioSource_a1c8138ec9ffb9fd1394d0ad0782d60fa}{Audio\+Source\+::\+Sample\+Byte\+Count} \hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\+\_\+per\+\_\+sample}}\label{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}

\begin{DoxyCompactList}\small\item\em Number of bytes in one sample. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{\hyperlink{classRingBuffer}{Ring\+Buffer}$<$ char, unsigned long $>$ \hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\+\_\+buf}}\label{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}

\begin{DoxyCompactList}\small\item\em The ring buffer used to transfer samples to the playing callback. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{std\+::unique\+\_\+ptr\\*
$<$ portaudio\+::\+Stream $>$ \hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream}}\label{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}

\begin{DoxyCompactList}\small\item\em The Port\+Audio stream to which this \hyperlink{classAudioSink}{Audio\+Sink} outputs. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{std\+::uint64\+\_\+t \hyperlink{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{position\+\_\+sample\+\_\+count}}\label{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}

\begin{DoxyCompactList}\small\item\em The current position, in samples. \end{DoxyCompactList}\item 
bool \hyperlink{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{just\+\_\+started}
\begin{DoxyCompactList}\small\item\em Whether the current run of the audio playback stream has not yet successfully read its first set of samples from the buffer. \end{DoxyCompactList}\item 
\hypertarget{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}{bool \hyperlink{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}{input\+\_\+ready}}\label{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}

\begin{DoxyCompactList}\small\item\em Whether there is input ready for this sink. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \hyperlink{classAudioSink_a152e5a388d4570211509a2a19a38c321}{R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R} = 16
\begin{DoxyCompactList}\small\item\em n, where 2$^\wedge$n is the capacity of the \hyperlink{classAudio}{Audio} ring buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
An output stream for an \hyperlink{classAudio}{Audio} file. 

An \hyperlink{classAudioSink}{Audio\+Sink} consists of a Port\+Audio output stream and a buffer that stores decoded samples from the \hyperlink{classAudio}{Audio} object. While active, the \hyperlink{classAudioSink}{Audio\+Sink} periodically transfers samples from its buffer to Port\+Audio in a separate thread. 

Definition at line \hyperlink{audio__sink_8hpp_source_l00038}{38} of file \hyperlink{audio__sink_8hpp_source}{audio\+\_\+sink.\+hpp}.



\subsection{Member Typedef Documentation}
\hypertarget{classAudioSink_ae5b8370aa17c24c6fc8f8e0c5778168c}{\index{Audio\+Sink@{Audio\+Sink}!Stream\+Configurator@{Stream\+Configurator}}
\index{Stream\+Configurator@{Stream\+Configurator}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Stream\+Configurator}]{\setlength{\rightskip}{0pt plus 5cm}using {\bf Audio\+Sink\+::\+Stream\+Configurator} =  std\+::function$<$ portaudio\+::\+Stream $\ast$(portaudio\+::\+Callback\+Interface \&)$>$}}\label{classAudioSink_ae5b8370aa17c24c6fc8f8e0c5778168c}


A function that configures and returns a stream, given this \hyperlink{classAudioSink}{Audio\+Sink}. 



Definition at line \hyperlink{audio__sink_8hpp_source_l00043}{43} of file \hyperlink{audio__sink_8hpp_source}{audio\+\_\+sink.\+hpp}.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classAudioSink_ab4adf46e3e93d35e2b5fb1ab0e75793b}{\index{Audio\+Sink@{Audio\+Sink}!Audio\+Sink@{Audio\+Sink}}
\index{Audio\+Sink@{Audio\+Sink}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Audio\+Sink}]{\setlength{\rightskip}{0pt plus 5cm}Audio\+Sink\+::\+Audio\+Sink (
\begin{DoxyParamCaption}
\item[{const {\bf Stream\+Configurator}}]{c, }
\item[{{\bf Audio\+Source\+::\+Sample\+Byte\+Count}}]{bytes\+\_\+per\+\_\+sample}
\end{DoxyParamCaption}
)}}\label{classAudioSink_ab4adf46e3e93d35e2b5fb1ab0e75793b}


Constructs an \hyperlink{classAudioSink}{Audio\+Sink}. 


\begin{DoxyParams}{Parameters}
{\em c} & A function that can configure Port\+Audio streams. \\
\hline
{\em bytes\+\_\+per\+\_\+sample} & The number of bytes each audio sample occupies. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{audio__sink_8cpp_source_l00026}{26} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00146}{stream}.


\begin{DoxyCode}
00028     : \hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample}(\hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample}),
00029       \hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}(\hyperlink{classAudioSink_a152e5a388d4570211509a2a19a38c321}{RINGBUF\_POWER}, \hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample}),
00030       \hyperlink{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{position\_sample\_count}(0),
00031       \hyperlink{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{just\_started}(\textcolor{keyword}{false}),
00032       \hyperlink{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}{input\_ready}(\textcolor{keyword}{false})
00033 \{
00034     this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream} = decltype(this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream})(c(*\textcolor{keyword}{this}));
00035 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classAudioSink_a9b3dbe861acd4bb7ac1903730a0a01f3}{\index{Audio\+Sink@{Audio\+Sink}!Input\+Ready@{Input\+Ready}}
\index{Input\+Ready@{Input\+Ready}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Input\+Ready}]{\setlength{\rightskip}{0pt plus 5cm}bool Audio\+Sink\+::\+Input\+Ready (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classAudioSink_a9b3dbe861acd4bb7ac1903730a0a01f3}


Gets whether this \hyperlink{classAudioSink}{Audio\+Sink} is expecting input. 

\begin{DoxyReturn}{Returns}
Whether the input-\/ready flag has been set. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_aaa92237f7ab548c1a898981f4dcd631c}{Set\+Input\+Ready} 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00055}{55} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00156}{input\+\_\+ready}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00156}{Play\+Callback\+Failure()}.


\begin{DoxyCode}
00056 \{
00057     \textcolor{keywordflow}{return} this->\hyperlink{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}{input\_ready};
00058 \}
\end{DoxyCode}
\hypertarget{classAudioSink_adfa8006db0d1cbe161f15232cb32a324}{\index{Audio\+Sink@{Audio\+Sink}!Is\+Stopped@{Is\+Stopped}}
\index{Is\+Stopped@{Is\+Stopped}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Is\+Stopped}]{\setlength{\rightskip}{0pt plus 5cm}bool Audio\+Sink\+::\+Is\+Stopped (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classAudioSink_adfa8006db0d1cbe161f15232cb32a324}


Checks to see if audio playback has stopped. 

\begin{DoxyReturn}{Returns}
True if the audio stream is inactive; false otherwise. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_a18196e0dec3b4d58e17c454379ed0728}{Start} 

\hyperlink{classAudioSink_af1937ad09b555f0b88d285e8fd7cf433}{Stop} 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00050}{50} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00146}{stream}.


\begin{DoxyCode}
00051 \{
00052     \textcolor{keywordflow}{return} !this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream}->isActive();
00053 \}
\end{DoxyCode}
\hypertarget{classAudioSink_ad3534ea4210aa83b42706c0361fd3e8d}{\index{Audio\+Sink@{Audio\+Sink}!pa\+Callback\+Fun@{pa\+Callback\+Fun}}
\index{pa\+Callback\+Fun@{pa\+Callback\+Fun}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{pa\+Callback\+Fun}]{\setlength{\rightskip}{0pt plus 5cm}int Audio\+Sink\+::pa\+Callback\+Fun (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{input\+Buffer, }
\item[{void $\ast$}]{output\+Buffer, }
\item[{unsigned long}]{num\+Frames, }
\item[{const Pa\+Stream\+Callback\+Time\+Info $\ast$}]{time\+Info, }
\item[{Pa\+Stream\+Callback\+Flags}]{status\+Flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}}}\label{classAudioSink_ad3534ea4210aa83b42706c0361fd3e8d}


The callback proper. 

This is executed in a separate thread by Port\+Audio once a stream is playing with the callback registered to it. 
\begin{DoxyParams}{Parameters}
{\em input\+Buffer} & The buffer containing input data; ignored. \\
\hline
{\em output\+Buffer} & The output buffer to which our samples should be written. \\
\hline
{\em num\+Frames} & The number of samples Port\+Audio wants to read from {\itshape output\+Buffer}. \\
\hline
{\em time\+Info} & The time information from Port\+Audio; ignored. \\
\hline
{\em status\+Flags} & The Port\+Audio status flags; ignored. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of samples written to the output buffer. 
\end{DoxyReturn}


Definition at line \hyperlink{audio__sink_8cpp_source_l00110}{110} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8cpp_source_l00126}{Play\+Callback\+Step()}.


\begin{DoxyCode}
00114 \{
00115     \textcolor{keywordtype}{char} *cout = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(out);
00116 
00117     std::pair<PaStreamCallbackResult, unsigned long> result =
00118                     std::make\_pair(paContinue, 0);
00119 
00120     \textcolor{keywordflow}{while} (result.first == paContinue && result.second < frames\_per\_buf) \{
00121         result = \hyperlink{classAudioSink_a450ad1c0c64ddcc9b9a40d325983cbd9}{PlayCallbackStep}(cout, frames\_per\_buf, result);
00122     \}
00123     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(result.first);
00124 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a6e1b9254b242231ba8168e5e27d602ff}{\index{Audio\+Sink@{Audio\+Sink}!Play\+Callback\+Failure@{Play\+Callback\+Failure}}
\index{Play\+Callback\+Failure@{Play\+Callback\+Failure}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Play\+Callback\+Failure}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Play\+Callback\+Step\+Result} Audio\+Sink\+::\+Play\+Callback\+Failure (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{out, }
\item[{unsigned long}]{avail, }
\item[{unsigned long}]{frames\+\_\+per\+\_\+buf, }
\item[{{\bf Play\+Callback\+Step\+Result}}]{in}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classAudioSink_a6e1b9254b242231ba8168e5e27d602ff}


Performs error cleanup for a failed play callback step. 

This ensures that the output buffer is filled with silence and the correct error code is returned. 
\begin{DoxyParams}{Parameters}
{\em out} & The output buffer to which our samples should be written. \\
\hline
{\em avail} & The number of samples available in the ring buffer. \\
\hline
{\em frames\+\_\+per\+\_\+buf} & The number of samples Port\+Audio wants to read {\itshape out}. \\
\hline
{\em in} & The result from the previous Play\+Callback\+Step. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Play\+Callback\+Step\+Result containing the status code and number of samples written as of the end of this step. 
\end{DoxyReturn}


Definition at line \hyperlink{audio__sink_8cpp_source_l00156}{156} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00140}{bytes\+\_\+per\+\_\+sample}, and \hyperlink{audio__sink_8cpp_source_l00055}{Input\+Ready()}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00126}{Play\+Callback\+Step()}.


\begin{DoxyCode}
00159 \{
00160     decltype(in) result;
00161 
00162     if (\hyperlink{classAudioSink_a9b3dbe861acd4bb7ac1903730a0a01f3}{InputReady}()) \{
00163         \textcolor{comment}{// There's been some sort of genuine issue.}
00164         \textcolor{comment}{// Make up some silence to plug the gap.}
00165         \hyperlink{classDebug}{Debug}() << \textcolor{stringliteral}{"Buffer underflow"} << std::endl;
00166         memset(out, 0, this->\hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample} * frames\_per\_buf);
00167         result = std::make\_pair(paContinue, frames\_per\_buf);
00168     \} \textcolor{keywordflow}{else} \{
00169         \textcolor{comment}{// End of input is ok, it means the stream can finish.}
00170         result = std::make\_pair(paComplete, in.second);
00171     \}
00172 
00173     \textcolor{keywordflow}{return} result;
00174 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a450ad1c0c64ddcc9b9a40d325983cbd9}{\index{Audio\+Sink@{Audio\+Sink}!Play\+Callback\+Step@{Play\+Callback\+Step}}
\index{Play\+Callback\+Step@{Play\+Callback\+Step}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Play\+Callback\+Step}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Play\+Callback\+Step\+Result} Audio\+Sink\+::\+Play\+Callback\+Step (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{out, }
\item[{unsigned long}]{frames\+\_\+per\+\_\+buf, }
\item[{{\bf Play\+Callback\+Step\+Result}}]{in}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classAudioSink_a450ad1c0c64ddcc9b9a40d325983cbd9}


Performs one step in the callback. 


\begin{DoxyParams}{Parameters}
{\em out} & The output buffer to which our samples should be written. \\
\hline
{\em frames\+\_\+per\+\_\+buf} & The number of samples Port\+Audio wants to read {\itshape out}. \\
\hline
{\em in} & The result from the previous Play\+Callback\+Step. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Play\+Callback\+Step\+Result containing the status code and number of samples written as of the end of this step. 
\end{DoxyReturn}


Definition at line \hyperlink{audio__sink_8cpp_source_l00126}{126} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00153}{just\+\_\+started}, \hyperlink{audio__sink_8cpp_source_l00156}{Play\+Callback\+Failure()}, \hyperlink{audio__sink_8cpp_source_l00144}{Play\+Callback\+Success()}, \hyperlink{ringbuffer_8hpp_source_l00093}{Ring\+Buffer$<$ Rep\+T, Sample\+Count\+T $>$\+::\+Read\+Capacity()}, and \hyperlink{audio__sink_8hpp_source_l00143}{ring\+\_\+buf}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00110}{pa\+Callback\+Fun()}.


\begin{DoxyCode}
00129 \{
00130     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} avail = this->\hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}.\hyperlink{classRingBuffer_a7086cc66306105db205842af7a88c2d8}{ReadCapacity}();
00131     \textcolor{keywordtype}{bool} empty = avail == 0;
00132 
00133     \textcolor{comment}{/* If we've just started this stream, we don't want to hand PortAudio}
00134 \textcolor{comment}{       an incomplete frameâ€”we'd rather wait until we have enough in the}
00135 \textcolor{comment}{       ring buffer before starting to play out. */}
00136     \textcolor{keywordtype}{bool} wait = this->\hyperlink{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{just\_started} && (avail < frames\_per\_buf);
00137 
00138     \textcolor{keywordtype}{bool} failed = wait || empty;
00139     \textcolor{keyword}{auto} fn = failed ? &\hyperlink{classAudioSink_a6e1b9254b242231ba8168e5e27d602ff}{AudioSink::PlayCallbackFailure}
00140                      : &\hyperlink{classAudioSink_a2194fd0629b52c550c9eb326f8ae10cc}{AudioSink::PlayCallbackSuccess};
00141     \textcolor{keywordflow}{return} (this->*fn)(out, avail, frames\_per\_buf, in);
00142 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a2194fd0629b52c550c9eb326f8ae10cc}{\index{Audio\+Sink@{Audio\+Sink}!Play\+Callback\+Success@{Play\+Callback\+Success}}
\index{Play\+Callback\+Success@{Play\+Callback\+Success}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Play\+Callback\+Success}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Play\+Callback\+Step\+Result} Audio\+Sink\+::\+Play\+Callback\+Success (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{out, }
\item[{unsigned long}]{avail, }
\item[{unsigned long}]{frames\+\_\+per\+\_\+buf, }
\item[{{\bf Play\+Callback\+Step\+Result}}]{in}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classAudioSink_a2194fd0629b52c550c9eb326f8ae10cc}


Performs a successful play callback step. 

This ensures that the appropriate number of samples are read into Port\+Audio's buffer. 
\begin{DoxyParams}{Parameters}
{\em out} & The output buffer to which our samples should be written. \\
\hline
{\em avail} & The number of samples available in the ring buffer. \\
\hline
{\em frames\+\_\+per\+\_\+buf} & The number of samples Port\+Audio wants to read {\itshape out}. \\
\hline
{\em in} & The result from the previous Play\+Callback\+Step. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Play\+Callback\+Step\+Result containing the status code and number of samples written as of the end of this step. 
\end{DoxyReturn}


Definition at line \hyperlink{audio__sink_8cpp_source_l00144}{144} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00153}{just\+\_\+started}, and \hyperlink{audio__sink_8cpp_source_l00176}{Read\+Samples\+To\+Output()}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00126}{Play\+Callback\+Step()}.


\begin{DoxyCode}
00147 \{
00148     this->\hyperlink{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{just\_started} = \textcolor{keyword}{false};
00149 
00150     \textcolor{keyword}{auto} samples\_pa\_wants = frames\_per\_buf - in.second;
00151     \textcolor{keyword}{auto} samples\_read = \hyperlink{classAudioSink_a00ed918435d6f65b9533869453d5ae56}{ReadSamplesToOutput}(out, avail, samples\_pa\_wants);
00152 
00153     \textcolor{keywordflow}{return} std::make\_pair(paContinue, in.second + samples\_read);
00154 \}
\end{DoxyCode}
\hypertarget{classAudioSink_aed168a8ce8ba39105431ab54ab08a007}{\index{Audio\+Sink@{Audio\+Sink}!Position@{Position}}
\index{Position@{Position}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Position}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Audio\+Sink\+::\+Sample\+Position} Audio\+Sink\+::\+Position (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classAudioSink_aed168a8ce8ba39105431ab54ab08a007}


Gets the current played position in the song, in samples. 

As this may be executing whilst the playing callback is running, do not expect it to be highly accurate. \begin{DoxyReturn}{Returns}
The current position, as a count of elapsed samples. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_ad2d7d33b3e937d057a4d72afad812737}{Sample\+Position} 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00065}{65} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00149}{position\+\_\+sample\+\_\+count}.


\begin{DoxyCode}
00066 \{
00067     \textcolor{keywordflow}{return} this->\hyperlink{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{position\_sample\_count};
00068 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a00ed918435d6f65b9533869453d5ae56}{\index{Audio\+Sink@{Audio\+Sink}!Read\+Samples\+To\+Output@{Read\+Samples\+To\+Output}}
\index{Read\+Samples\+To\+Output@{Read\+Samples\+To\+Output}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Read\+Samples\+To\+Output}]{\setlength{\rightskip}{0pt plus 5cm}unsigned long Audio\+Sink\+::\+Read\+Samples\+To\+Output (
\begin{DoxyParamCaption}
\item[{char $\ast$\&}]{output, }
\item[{unsigned long}]{output\+\_\+capacity, }
\item[{unsigned long}]{buffered\+\_\+count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classAudioSink_a00ed918435d6f65b9533869453d5ae56}


Reads from the ringbuffer to output, updating the used samples count. 


\begin{DoxyParams}{Parameters}
{\em output} & A reference to the output buffer's current pointer. \\
\hline
{\em output\+\_\+capacity} & The capacity of the output buffer, in samples. \\
\hline
{\em buffered\+\_\+count} & The number of samples available in the ring buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of samples successfully written to the output buffer. 
\end{DoxyReturn}


Definition at line \hyperlink{audio__sink_8cpp_source_l00176}{176} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00149}{position\+\_\+sample\+\_\+count}, \hyperlink{ringbuffer_8hpp_source_l00149}{Ring\+Buffer$<$ Rep\+T, Sample\+Count\+T $>$\+::\+Read()}, and \hyperlink{audio__sink_8hpp_source_l00143}{ring\+\_\+buf}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00144}{Play\+Callback\+Success()}.


\begin{DoxyCode}
00179 \{
00180     \textcolor{comment}{// Transfer the maximum that we can offer to PortAudio without}
00181     \textcolor{comment}{// overshooting}
00182     \textcolor{comment}{// its sample request limit.}
00183     \textcolor{keywordtype}{long} transfer\_sample\_count = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\textcolor{keyword}{>}(
00184                     std::min(\{ output\_capacity, buffered\_count,
00185                            \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}\textcolor{keyword}{>}(LONG\_MAX) \}));
00186     output += this->\hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}.\hyperlink{classRingBuffer_af892330ee102bd50a493b8afa814a0f0}{Read}(output, transfer\_sample\_count);
00187 
00188     \textcolor{comment}{// Update the position count so it reflects the last position that was}
00189     \textcolor{comment}{// sent}
00190     \textcolor{comment}{// for playback (*not* the last position decoded).}
00191     this->\hyperlink{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{position\_sample\_count} += transfer\_sample\_count;
00192     \textcolor{keywordflow}{return} transfer\_sample\_count;
00193 \}
\end{DoxyCode}
\hypertarget{classAudioSink_aaa92237f7ab548c1a898981f4dcd631c}{\index{Audio\+Sink@{Audio\+Sink}!Set\+Input\+Ready@{Set\+Input\+Ready}}
\index{Set\+Input\+Ready@{Set\+Input\+Ready}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Set\+Input\+Ready}]{\setlength{\rightskip}{0pt plus 5cm}void Audio\+Sink\+::\+Set\+Input\+Ready (
\begin{DoxyParamCaption}
\item[{bool}]{ready}
\end{DoxyParamCaption}
)}}\label{classAudioSink_aaa92237f7ab548c1a898981f4dcd631c}


Set whether this \hyperlink{classAudioSink}{Audio\+Sink} can expect input. 


\begin{DoxyParams}{Parameters}
{\em ready} & True if there is input ready; false otherwise. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_a9b3dbe861acd4bb7ac1903730a0a01f3}{Input\+Ready} 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00060}{60} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00156}{input\+\_\+ready}.


\begin{DoxyCode}
00061 \{
00062     this->\hyperlink{classAudioSink_ad644a3477077e87f76cd24c9cb268f30}{input\_ready} = ready;
00063 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a5ca539e3440d168eec0892114a947529}{\index{Audio\+Sink@{Audio\+Sink}!Set\+Position@{Set\+Position}}
\index{Set\+Position@{Set\+Position}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Set\+Position}]{\setlength{\rightskip}{0pt plus 5cm}void Audio\+Sink\+::\+Set\+Position (
\begin{DoxyParamCaption}
\item[{{\bf Audio\+Sink\+::\+Sample\+Position}}]{samples}
\end{DoxyParamCaption}
)}}\label{classAudioSink_a5ca539e3440d168eec0892114a947529}


Sets the current played position, given a position in samples. 

This flushes out the \hyperlink{classAudioSink}{Audio\+Sink} ready to receive sample data from the new position. 
\begin{DoxyParams}{Parameters}
{\em samples} & The new position, as a count of elapsed samples. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_aed168a8ce8ba39105431ab54ab08a007}{Position} 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00070}{70} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{ringbuffer_8hpp_source_l00160}{Ring\+Buffer$<$ Rep\+T, Sample\+Count\+T $>$\+::\+Flush()}, \hyperlink{audio__sink_8hpp_source_l00149}{position\+\_\+sample\+\_\+count}, and \hyperlink{audio__sink_8hpp_source_l00143}{ring\+\_\+buf}.


\begin{DoxyCode}
00071 \{
00072     this->\hyperlink{classAudioSink_ac3403a492b8aba8d483961d1ec09fa26}{position\_sample\_count} = samples;
00073     this->\hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}.\hyperlink{classRingBuffer_a1eb1acca6905e7678fbbdb70238cdc26}{Flush}();
00074 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a18196e0dec3b4d58e17c454379ed0728}{\index{Audio\+Sink@{Audio\+Sink}!Start@{Start}}
\index{Start@{Start}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Start}]{\setlength{\rightskip}{0pt plus 5cm}void Audio\+Sink\+::\+Start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classAudioSink_a18196e0dec3b4d58e17c454379ed0728}


Starts the audio stream. 

\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_af1937ad09b555f0b88d285e8fd7cf433}{Stop} 

Is\+Halted 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00037}{37} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00153}{just\+\_\+started}, and \hyperlink{audio__sink_8hpp_source_l00146}{stream}.


\begin{DoxyCode}
00038 \{
00039     this->\hyperlink{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{just\_started} = \textcolor{keyword}{true};
00040     this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream}->start();
00041 \}
\end{DoxyCode}
\hypertarget{classAudioSink_af1937ad09b555f0b88d285e8fd7cf433}{\index{Audio\+Sink@{Audio\+Sink}!Stop@{Stop}}
\index{Stop@{Stop}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Stop}]{\setlength{\rightskip}{0pt plus 5cm}void Audio\+Sink\+::\+Stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classAudioSink_af1937ad09b555f0b88d285e8fd7cf433}


Stops the audio stream. 

\begin{DoxySeeAlso}{See also}
\hyperlink{classAudioSink_a18196e0dec3b4d58e17c454379ed0728}{Start} 

Is\+Halted 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8cpp_source_l00043}{43} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00146}{stream}.


\begin{DoxyCode}
00044 \{
00045     \textcolor{keywordflow}{if} (!this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream}->isStopped()) \{
00046         this->\hyperlink{classAudioSink_aac90e7d95e98ac08b7c661a301eff1b2}{stream}->abort();
00047     \}
00048 \}
\end{DoxyCode}
\hypertarget{classAudioSink_a455e211f4f16eaa21e7b75412cc8a8ae}{\index{Audio\+Sink@{Audio\+Sink}!Transfer@{Transfer}}
\index{Transfer@{Transfer}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{Transfer}]{\setlength{\rightskip}{0pt plus 5cm}void Audio\+Sink\+::\+Transfer (
\begin{DoxyParamCaption}
\item[{{\bf Audio\+Sink\+::\+Transfer\+Iterator} \&}]{start, }
\item[{const {\bf Transfer\+Iterator} \&}]{end}
\end{DoxyParamCaption}
)}}\label{classAudioSink_a455e211f4f16eaa21e7b75412cc8a8ae}


Transfers a range of sample bytes into the \hyperlink{classAudioSink}{Audio\+Sink}. 

The range may be empty, but must be valid.


\begin{DoxyItemize}
\item Precondition\+: {\itshape start} $<$= {\itshape end}, {\itshape start} and {\itshape end} point to a valid contiguous block of sample bytes.
\item Postcondition\+: {\itshape start} $<$= {\itshape end}, {\itshape old(start)} $<$= {\itshape start}, {\itshape $\ast$start} and {\itshape end} point to a valid contiguous block of sample bytes.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em start} & An iterator denoting the start of the range. This iterator will be advanced by the number of bytes accepted. \\
\hline
{\em end} & An iterator denoting the end of the range. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{audio__sink_8cpp_source_l00076}{76} of file \hyperlink{audio__sink_8cpp_source}{audio\+\_\+sink.\+cpp}.



References \hyperlink{audio__sink_8hpp_source_l00140}{bytes\+\_\+per\+\_\+sample}, \hyperlink{audio__sink_8hpp_source_l00143}{ring\+\_\+buf}, \hyperlink{ringbuffer_8hpp_source_l00120}{Ring\+Buffer$<$ Rep\+T, Sample\+Count\+T $>$\+::\+Write()}, and \hyperlink{ringbuffer_8hpp_source_l00083}{Ring\+Buffer$<$ Rep\+T, Sample\+Count\+T $>$\+::\+Write\+Capacity()}.


\begin{DoxyCode}
00078 \{
00079     \textcolor{comment}{// No point transferring 0 bytes.}
00080     \textcolor{keywordflow}{if} (start == end) \{
00081         \textcolor{keywordflow}{return};
00082     \}
00083     assert(start < end);
00084 
00085     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} bytes = std::distance(start, end);
00086     \textcolor{comment}{// There should be a whole number of samples being transferred.}
00087     assert(bytes % \hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample} == 0);
00088     assert(0 < bytes);
00089 
00090     \textcolor{keyword}{auto} samples = bytes / this->\hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample};
00091 
00092     \textcolor{comment}{// Only transfer as many samples as the ring buffer can take.}
00093     \textcolor{comment}{// Don't bother trying to write 0 samples!}
00094     \textcolor{keyword}{auto} count = std::min(samples, this->\hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}.\hyperlink{classRingBuffer_ab00617ab6e379ad146cb7b80079f4c4c}{WriteCapacity}());
00095     \textcolor{keywordflow}{if} (count == 0) \{
00096         \textcolor{keywordflow}{return};
00097     \}
00098     assert(0 < count);
00099 
00100     \textcolor{keyword}{auto} start\_ptr = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(&*start);
00101     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} written\_count = this->\hyperlink{classAudioSink_a87184f85d6cfcc7310043b877caeaee2}{ring\_buf}.\hyperlink{classRingBuffer_aa7f863968cb641946b0cf341bda11e16}{Write}(start\_ptr, count);
00102     \textcolor{comment}{// Since we never write more than the ring buffer can take, the written}
00103     \textcolor{comment}{// count should equal the requested written count.}
00104     assert(written\_count == count);
00105 
00106     start += (written\_count * this->\hyperlink{classAudioSink_a5eab0f7111187c0416feb542010e4a2e}{bytes\_per\_sample});
00107     assert(start <= end);
00108 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}{\index{Audio\+Sink@{Audio\+Sink}!just\+\_\+started@{just\+\_\+started}}
\index{just\+\_\+started@{just\+\_\+started}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{just\+\_\+started}]{\setlength{\rightskip}{0pt plus 5cm}bool Audio\+Sink\+::just\+\_\+started\hspace{0.3cm}{\ttfamily [private]}}}\label{classAudioSink_a00cbaaf2b4fcf5d9acb614b909234196}


Whether the current run of the audio playback stream has not yet successfully read its first set of samples from the buffer. 



Definition at line \hyperlink{audio__sink_8hpp_source_l00153}{153} of file \hyperlink{audio__sink_8hpp_source}{audio\+\_\+sink.\+hpp}.



Referenced by \hyperlink{audio__sink_8cpp_source_l00126}{Play\+Callback\+Step()}, \hyperlink{audio__sink_8cpp_source_l00144}{Play\+Callback\+Success()}, and \hyperlink{audio__sink_8cpp_source_l00037}{Start()}.

\hypertarget{classAudioSink_a152e5a388d4570211509a2a19a38c321}{\index{Audio\+Sink@{Audio\+Sink}!R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R@{R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R}}
\index{R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R@{R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R}!Audio\+Sink@{Audio\+Sink}}
\subsubsection[{R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R}]{\setlength{\rightskip}{0pt plus 5cm}const size\+\_\+t Audio\+Sink\+::\+R\+I\+N\+G\+B\+U\+F\+\_\+\+P\+O\+W\+E\+R = 16\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}}\label{classAudioSink_a152e5a388d4570211509a2a19a38c321}


n, where 2$^\wedge$n is the capacity of the \hyperlink{classAudio}{Audio} ring buffer. 

\begin{DoxySeeAlso}{See also}
R\+I\+N\+G\+B\+U\+F\+\_\+\+S\+I\+Z\+E 
\end{DoxySeeAlso}


Definition at line \hyperlink{audio__sink_8hpp_source_l00137}{137} of file \hyperlink{audio__sink_8hpp_source}{audio\+\_\+sink.\+hpp}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/audio/\hyperlink{audio__sink_8hpp}{audio\+\_\+sink.\+hpp}\item 
src/audio/\hyperlink{audio__sink_8cpp}{audio\+\_\+sink.\+cpp}\end{DoxyCompactItemize}
